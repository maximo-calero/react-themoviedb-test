(this["webpackJsonpreact-themoviedb-test"]=this["webpackJsonpreact-themoviedb-test"]||[]).push([[0],{138:function(e,t,a){e.exports=a.p+"static/media/default-image_300.2d2ebf33.png"},281:function(e,t,a){e.exports=a(490)},490:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(23),i=a.n(s),o=a(89),c=a(178),l=a(60);function u(){var e=Object(c.a)(["\n    flex: 3;\n    :hover {\n        color: rgb(0, 120, 212);\n    }\n    a {\n        display: block;\n        text-align: center;\n        padding: 5px 16px;\n        text-decoration: none;\n        color: rgb(102, 102, 102);        \n    }\n"]);return u=function(){return e},e}function h(){var e=Object(c.a)(["\n    list-style: none; \n    display: flex; \n    margin-top: 6px;\n    width: 85%;\n    padding: 0;\n    overflow: hidden;\n    height: 40px;\n    font-size: 1.15em;\n    color: rgb(102, 102, 102);\n    width:100%;    \n"]);return h=function(){return e},e}var p=l.a.ul(h()),d=l.a.li(u()),g=function(){return n.a.createElement("header",null,n.a.createElement("nav",null,n.a.createElement(p,null,n.a.createElement(d,null,n.a.createElement(o.b,{to:"/"},"Home")),n.a.createElement(d,null,n.a.createElement(o.b,{to:"/about"},"About")))))},m=a(75),f=a(19),v=a.n(f),b=a(34),y=a(28),w=a(46),k=a(31),S=a(90),E=a(91),x=a(92),C={configuration:"/configuration",account:"/account/%7Baccount_id%7D",genre:"/genre",movie:"/movie/",tv:"/tv/",keywords:"/keywords"},O={searchMovie:"/search/movie",searchTvShow:"/search/tv",rating:"/rating",ratedMovies:"/rated/movies",accountStates:"/account_states"},j={apiKey:"?api_key=",query:"&query=",page:"&page=",sessionId:"&session_id="};function T(e){return e.reduce((function(e,t){return e[t]=t,e}),Object.create(null))}function D(e){var t=e.split("-");return new Date(+t[0],+t[1],+t[2])}var I=function(){function e(){Object(w.a)(this,e),this.apiUrl=void 0,this.apiKey=void 0,this.sessionId=void 0,this.apiUrl="https://api.themoviedb.org/3",this.apiKey="8e04168f7bad30462aace99b52adbfd3",this.sessionId="64358d5d1f227ebcc0d5f39df8a138d99771e291"}return Object(k.a)(e,[{key:"getApiJson",value:function(){var e=Object(b.a)(v.a.mark((function e(t,a){var r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a?"".concat(this.apiUrl).concat(t).concat(j.apiKey).concat(this.apiKey).concat(a):"".concat(this.apiUrl).concat(t).concat(j.apiKey).concat(this.apiKey),e.next=3,fetch(r);case 3:if((n=e.sent).ok){e.next=6;break}throw new Error(n.statusText);case 6:return e.next=8,n.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getGenres",value:function(){var e=Object(b.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getApiJson("".concat(C.genre).concat(t,"list"));case 2:if(!((a=e.sent).genres.length>0)){e.next=7;break}return e.abrupt("return",a.genres.map((function(e){return{id:e.id,name:e.name}})));case 7:return e.abrupt("return",[]);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getKeywords",value:function(){var e=Object(b.a)(v.a.mark((function e(t,a){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getApiJson("".concat(a).concat(t).concat(C.keywords));case 2:if(!((r=e.sent).keywords&&r.keywords.length>0)){e.next=7;break}return e.abrupt("return",r.keywords.map((function(e){return{id:e.id,name:e.name}})));case 7:if(!r.results||!r.results.length){e.next=11;break}return e.abrupt("return",r.results.map((function(e){return{id:e.id,name:e.name}})));case 11:return e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getConfiguration",value:function(){var e=Object(b.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getApiJson(C.configuration);case 2:return t=e.sent,a={images:{baseUrl:t.images.base_url,secureBaseUrl:t.images.secure_base_url,backdropSizes:T(t.images.backdrop_sizes),logoSizes:T(t.images.logo_sizes),posterSizes:T(t.images.poster_sizes),profileSizes:T(t.images.profile_sizes),stillSizes:T(t.images.still_sizes)},changeKeys:T(t.change_keys)},e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMoviesFromServiceArray",value:function(e){return e.map((function(e){return{id:e.id,title:e.title,overview:e.overview,shortDescription:e.overview?e.overview.length>60?"".concat(e.overview.substr(0,60),"..."):e.overview:"",popularity:e.popularity,video:e.video,voteCount:e.vote_count,voteAverage:e.vote_average,releaseDate:e.release_date&&D(e.release_date),originalLanguage:e.original_language,originalTitle:e.original_title,genreIds:e.genre_ids,backdropPath:e.backdrop_path,adult:e.adult,posterPath:e.poster_path}}))}},{key:"getTvShowsFromServiceArray",value:function(e){return e.map((function(e){return{id:e.id,title:e.name,overview:e.overview,shortDescription:e.overview?e.overview.length>60?"".concat(e.overview.substr(0,60),"..."):e.overview:"",popularity:e.popularity,voteCount:e.vote_count,voteAverage:e.vote_average,releaseDate:e.first_air_date&&D(e.first_air_date),originalName:e.original_name,originCountry:e.origin_country,originalLanguage:e.original_language,genreIds:e.genre_ids,backdropPath:e.backdrop_path,posterPath:e.poster_path}}))}},{key:"searchMovies",value:function(){var e=Object(b.a)(v.a.mark((function e(t,a){var r,n,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(j.query).concat(t).concat(j.page).concat(a.toString()),e.next=3,this.getApiJson(O.searchMovie,r);case 3:if(!((n=e.sent).total_results>0)){e.next=9;break}return s=this.getMoviesFromServiceArray(n.results),e.abrupt("return",{page:n.page,totalResults:n.total_results,totalPages:n.total_pages,results:s});case 9:return e.abrupt("return",{page:n.page,totalResults:n.total_results,totalPages:n.total_pages,results:[]});case 10:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"searchTvShows",value:function(){var e=Object(b.a)(v.a.mark((function e(t,a){var r,n,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(j.query).concat(t).concat(j.page).concat(a.toString()),e.next=3,this.getApiJson(O.searchTvShow,r);case 3:if(!((n=e.sent).total_results>0)){e.next=9;break}return s=this.getTvShowsFromServiceArray(n.results),e.abrupt("return",{page:n.page,totalResults:n.total_results,totalPages:n.total_pages,results:s});case 9:return e.abrupt("return",{page:n.page,totalResults:n.total_results,totalPages:n.total_pages,results:[]});case 10:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getRatedMovie",value:function(){var e=Object(b.a)(v.a.mark((function e(t){var a,r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(C.movie).concat(t).concat(O.accountStates),r="".concat(j.sessionId).concat(this.sessionId),e.next=4,this.getApiJson(a,r);case 4:if(!(n=e.sent)){e.next=9;break}return e.abrupt("return",{id:n.id,favorite:n.favorite,ratedValue:n.rated.value,watchList:n.watchlist});case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"rateMovie",value:function(){var e=Object(b.a)(v.a.mark((function e(t,a){var r,n,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={value:a},n="".concat(this.apiUrl).concat(C.movie).concat(t).concat(O.rating).concat(j.apiKey).concat(this.apiKey).concat(j.sessionId).concat(this.sessionId),e.next=4,fetch(n,{method:"POST",headers:{"content-type":"application/json;charset=utf-8"},body:JSON.stringify(r)});case 4:if((s=e.sent).ok){e.next=7;break}throw new Error(s.statusText);case 7:return e.next=9,s.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}(),R=a(262),P=a(541),_=a(542),M=a(543),V=a(271),A=a(540),z=a(261),B=a.n(z),N=a(544),K=a(495),U=a(265),W=a.n(U),G=a(264),H=a.n(G),J=Object(R.a)(A.a)({}),L=Object(R.a)(A.a)({display:"flex",flexDirection:"column",alignItems:"center"}),F=Object(R.a)(P.a)({width:270,height:330}),q=Object(R.a)(K.a)({fontSize:"0.9rem",fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:400,lineHeight:1.334,letterSpacing:"0em"}),Y=Object(R.a)(K.a)({fontSize:"0.9rem",fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:400,lineHeight:1.334,letterSpacing:"0em"}),$=Object(R.a)(_.a)({minHeight:285}),Q=Object(R.a)(M.a)({height:140,backgroundSize:92}),X=Object(R.a)(N.a)({display:"flex",padding:8,alignItems:"center",justifyContent:"space-between"}),Z=l.a.div({display:"flex",alignItems:"center"}),ee=l.a.span({fontSize:"0.9rem",fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:400,lineHeight:1.5,letterSpacing:"0.00938em",paddingLeft:"0.2rem"}),te=Object(l.a)(H.a)({fill:"currentColor",width:"1em",height:"1em",display:"inline-block",fontSize:"1.3rem",transition:"fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",flexShrink:0,userSelect:"none"}),ae=Object(l.a)(W.a)({fill:"currentColor",width:"1em",height:"1em",display:"inline-block",fontSize:"1.3rem",transition:"fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",flexShrink:0,userSelect:"none"}),re=Object(R.a)(A.a)({flexGrow:1}),ne=Object(R.a)(V.a)({padding:12,textAlign:"center",color:"rgba(0, 0, 0, 0.54)",width:"100%",height:400}),se=Object(R.a)(B.a)({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"flex-start"}),ie=l.a.div({padding:4,margin:0,boxSizing:"border-box"}),oe=a(545),ce=a(138),le=a.n(ce),ue=function(e){function t(){var e,a;Object(w.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(n)))).handleClickCard=function(e){a.props.onClickCard(e.currentTarget.id)},a}return Object(x.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return n.a.createElement(F,null,n.a.createElement($,{id:this.props.id.toString(),onClick:this.handleClickCard},n.a.createElement(Q,{image:this.props.image?this.props.image:le.a,title:this.props.title}),n.a.createElement(oe.a,null,n.a.createElement(q,{gutterBottom:!0,variant:"h5"},this.props.contentTitle),n.a.createElement(Y,{variant:"body2",color:"textSecondary"},this.props.contentDescription?this.props.contentDescription:"No description provided"))),n.a.createElement(X,null,n.a.createElement(Z,null,n.a.createElement(te,{titleAccess:"Release date"}),n.a.createElement(ee,null,this.props.releaseDate?this.props.releaseDate:"No Release Date Provided")),n.a.createElement(Z,null,n.a.createElement(ae,{titleAccess:"Vote average"}),n.a.createElement(ee,null,this.props.voteAverage))))}}]),t}(n.a.Component),he=function(e){function t(){var e,a;Object(w.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(n)))).handleClickCard=function(e){a.props.onClickCard(e)},a}return Object(x.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this,t=n.a.createElement("div",{key:0,className:"loader"},"Loading ..."),a=this.props.results.map((function(t){return n.a.createElement(ie,{key:t.id},n.a.createElement(ue,{id:t.id,title:t.title,image:t.posterPath&&"".concat(e.props.imageBaseUrl).concat(t.posterPath),contentTitle:t.title,contentDescription:t.shortDescription,releaseDate:t.releaseDate&&t.releaseDate.toLocaleDateString(),voteAverage:t.voteAverage,onClickCard:e.handleClickCard}))}));return n.a.createElement(re,null,n.a.createElement(se,{pageStart:1,loadMore:this.props.loadResults,hasMore:this.props.hasMoreItems,loader:t},this.props.results.length>0&&a))}}]),t}(n.a.Component),pe=a(267),de=a.n(pe),ge=a(560),me=a(557),fe=a(548),ve=a(547),be=a(266),ye=a(546),we=Object(be.a)((function(e){return Object(ye.a)({searchText:{"& label.Mui-focused":{color:"green"},"& .MuiInput-underline:after":{borderBottomColor:"green"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"rgba(0, 0, 0, 0.23)"},"&:hover fieldset":{borderColor:"blue"},"&.Mui-focused fieldset":{borderColor:"green"}},marginLeft:8,marginBottom:15,width:"15rem"},searchPaper:{padding:"15px 10px 5px",marginBottom:10,display:"flex",alignItems:"flex-start",width:"100%",backgroundColor:"#fff",flexWrap:"wrap",flexDirection:"row",justifyContent:"center"},dropDown:{marginBottom:15,width:"15rem"},searchIconButton:{padding:10,width:"4rem",height:"4rem"},searchContainer:{width:"20rem"}})})),ke=function(e){var t=we();return n.a.createElement(V.a,{component:"form",className:t.searchPaper},n.a.createElement(me.a,{className:t.dropDown,id:"outlined-select-currency",select:!0,label:"Search Type",value:e.searchTypeValue,onChange:e.onChangeSearchType,helperText:"Please select your search type",variant:"outlined"},n.a.createElement(ge.a,{value:"Movies"},"Movies"),n.a.createElement(ge.a,{value:"TV Shows"},"TV Shows")),n.a.createElement(ve.a,{className:t.searchContainer,container:!0,direction:"row",justify:"center",alignItems:"flex-start"},n.a.createElement(me.a,{className:t.searchText,inputProps:{"aria-label":"search movies"},onChange:e.onChangeSearchInput,value:e.searchTerm,label:e.placeHolderText,variant:"outlined"}),n.a.createElement(fe.a,{className:t.searchIconButton,type:"submit","aria-label":"search",onClick:e.onClickSearch},n.a.createElement(de.a,null))),n.a.createElement(me.a,{className:t.dropDown,id:"outlined-select-currency",select:!0,label:"Sort by",value:e.searchSortValue,onChange:e.onChangeSort,helperText:"Please select the field to sort results",variant:"outlined"},n.a.createElement(ge.a,{value:"Title"},"Title"),n.a.createElement(ge.a,{value:"Release date"},"Release date"),n.a.createElement(ge.a,{value:"Vote average"},"Vote average (DESC)")))},Se=a(550),Ee=a(551),xe=a(552),Ce=a(554),Oe=a(555),je=a(561),Te=a(497),De=a(553),Ie=a(558),Re=a(559),Pe=a(71),_e=a(268),Me=a.n(_e),Ve=Object(be.a)((function(e){return Object(ye.a)({firstColumn:{marginRight:"0.900rem",width:"13rem"},secondColumn:{width:"20rem",marginRight:"0.700rem"},thirdColumn:{width:"20rem"},chip:{margin:"0.200rem"},genreChip:{backgroundColor:"powderblue"},keyWordChip:{backgroundColor:"royalblue",color:"white"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},dialogActions:{justifyContent:"space-between"}})})),Ae=function(e){var t,a=e.dialogItem&&e.dialogItem.posterPath?"".concat(e.baseImageUrl).concat(null===(t=e.dialogItem)||void 0===t?void 0:t.posterPath):le.a,r=Ve(),s=Object(Pe.a)(),i=Me()(s.breakpoints.down("sm"));return n.a.createElement(Se.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:"md",fullWidth:i,onEntered:e.onEntered,"aria-labelledby":"confirmation-dialog-title",open:e.openDialog},n.a.createElement(Ee.a,{id:"confirmation-dialog-title"},e.dialogItem&&e.dialogItem.title),n.a.createElement(xe.a,null,n.a.createElement(Te.a,{className:r.backdrop,open:e.showBackdrop},n.a.createElement(De.a,{color:"inherit"})),n.a.createElement(ve.a,{container:!0,direction:"row"},n.a.createElement(ve.a,{item:!0,className:r.firstColumn},n.a.createElement("img",{src:a,alt:e.dialogItem&&e.dialogItem.title})),n.a.createElement(ve.a,{container:!0,direction:"column",className:r.secondColumn},n.a.createElement(ve.a,{item:!0},n.a.createElement(K.a,{variant:"h6",gutterBottom:!0},"Overview"),n.a.createElement(K.a,{variant:"body1",gutterBottom:!0},e.dialogItem&&e.dialogItem.overview)),n.a.createElement(ve.a,{item:!0},n.a.createElement(K.a,{variant:"h6",gutterBottom:!0},"Popularity"),n.a.createElement(K.a,{variant:"body1",gutterBottom:!0},e.dialogItem&&e.dialogItem.popularity))),n.a.createElement(ve.a,{container:!0,direction:"column",className:r.thirdColumn},n.a.createElement(ve.a,{item:!0},n.a.createElement(K.a,{variant:"h6",gutterBottom:!0},"Genres"),n.a.createElement("div",null,e.genres.length>0&&e.genres.map((function(e){return n.a.createElement(je.a,{className:"".concat(r.chip," ").concat(r.genreChip),key:e,label:e})})),0===e.genres.length&&n.a.createElement(K.a,null,"No genres provided"))),n.a.createElement(ve.a,{item:!0},n.a.createElement(K.a,{variant:"h6",gutterBottom:!0},"Keywords"),n.a.createElement("div",null,e.keywords.length>0&&e.keywords.map((function(e){return n.a.createElement(je.a,{className:"".concat(r.chip," ").concat(r.keyWordChip),key:e.id,label:e.name})})),0===e.keywords.length&&n.a.createElement(K.a,null,"No keywords provided")))))),n.a.createElement(Ce.a,{className:r.dialogActions},n.a.createElement(ve.a,{container:!0,direction:"column"},n.a.createElement(ve.a,{item:!0},n.a.createElement(Ie.a,{component:"fieldset",mb:3,borderColor:"transparent"},n.a.createElement(K.a,{component:"legend"},"Vote average"),n.a.createElement(Re.a,{name:"vote-average",value:e.dialogItem&&e.dialogItem.voteAverage,max:10,precision:.25}))),"Movies"===e.type&&n.a.createElement(ve.a,{item:!0},n.a.createElement(Ie.a,{component:"fieldset",mb:3,borderColor:"transparent"},n.a.createElement(K.a,{component:"legend"},"Your rating"),n.a.createElement(Re.a,{name:"your-rating",value:e.ratingValue,max:10,precision:.25,onChange:e.onChangeRating}),n.a.createElement(K.a,{component:"span"},e.ratingMessage&&e.ratingMessage)))),n.a.createElement(Oe.a,{onClick:e.onClickDialogOk,color:"primary"},"Ok")))},ze=function(e){function t(e){var a;return Object(w.a)(this,t),(a=Object(S.a)(this,Object(E.a)(t).call(this,e))).dataService=void 0,a.emptyConfiguration={images:{baseUrl:"",secureBaseUrl:"",backdropSizes:[],logoSizes:[],posterSizes:[],profileSizes:[],stillSizes:[]},changeKeys:[]},a.emptySearchResults={page:0,totalPages:0,totalResults:0,results:[]},a.handleChangeSearchType=function(e){var t=e.target.value,r="Search ".concat(t);a.setState((function(e){return Object(y.a)({},e,{searchDefinition:{searchTerm:"",searchTypeValue:t,placeholderText:r},searchResults:{page:0,totalPages:0,totalResults:0,results:[]}})}))},a.handleChangeSort=function(e){var t=e.target.value;a.setState((function(e){return Object(y.a)({},e,{searchSortValue:t})}))},a.handleOnChangeSearchInput=function(e){var t=e.currentTarget.value;a.setState((function(e){return Object(y.a)({},e,{searchDefinition:Object(y.a)({},e.searchDefinition,{searchTerm:t})})}))},a.sortResults=function(e){switch(a.state.searchSortValue){case"Title":e.sort((function(e,t){return e.title<t.title?-1:e.title>t.title?1:0}));break;case"Release date":e.sort((function(e,t){return+e.releaseDate-+t.releaseDate}));break;case"Vote average":e.sort((function(e,t){return t.voteAverage-e.voteAverage}))}},a.handleOnClickSearch=function(){var e=Object(b.a)(v.a.mark((function e(t){var r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),e.t0=a.state.searchDefinition.searchTypeValue,e.next="Movies"===e.t0?4:"TV Shows"===e.t0?10:16;break;case 4:return e.next=6,a.dataService.searchMovies(a.state.searchDefinition.searchTerm,1);case 6:return r=e.sent,a.sortResults(r.results),a.setState((function(e){return Object(y.a)({},e,{searchResults:r})})),e.abrupt("break",17);case 10:return e.next=12,a.dataService.searchTvShows(a.state.searchDefinition.searchTerm,1);case 12:return n=e.sent,a.sortResults(n.results),a.setState((function(e){return Object(y.a)({},e,{searchResults:n})})),e.abrupt("break",17);case 16:return e.abrupt("break",17);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleLoadMoreResults=Object(b.a)(v.a.mark((function e(){var t,r,n,s,i,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=a.state.searchDefinition.searchTypeValue,e.next="Movies"===e.t0?3:"TV Shows"===e.t0?11:19;break;case 3:return t=a.state.searchResults.results.slice(),e.next=6,a.dataService.searchMovies(a.state.searchDefinition.searchTerm,a.state.searchResults.page+1);case 6:return r=e.sent,n=t.concat(r.results),a.sortResults(n),a.setState((function(e){return Object(y.a)({},e,{searchResults:{page:r.page,totalPages:r.totalPages,totalResults:r.totalResults,results:n}})})),e.abrupt("break",20);case 11:return s=a.state.searchResults.results.slice(),e.next=14,a.dataService.searchTvShows(a.state.searchDefinition.searchTerm,a.state.searchResults.page+1);case 14:return i=e.sent,o=s.concat(i.results),a.sortResults(o),a.setState((function(e){return Object(y.a)({},e,{searchResults:{page:i.page,totalPages:i.totalPages,totalResults:i.totalResults,results:o}})})),e.abrupt("break",20);case 19:return e.abrupt("break",20);case 20:case"end":return e.stop()}}),e)}))),a.handleClickCard=function(e){var t=a.state.searchResults.results.filter((function(t){return t.id===+e}))[0],r=[];switch(a.state.searchDefinition.searchTypeValue){case"Movies":t.genreIds.length>0&&(r=t.genreIds.map((function(e){return a.state.moviesGenres.filter((function(t){return t.id===e}))[0].name})));break;case"TV Shows":t.genreIds.length>0&&(r=t.genreIds.map((function(e){return a.state.tvShowGenres.filter((function(t){return t.id===e}))[0].name})))}a.setState((function(e){return Object(y.a)({},e,{dialogProps:Object(y.a)({},e.dialogProps,{loading:!0,openDialog:!0,dialogItem:t,genres:r})})}))},a.handleDialogOk=function(e){a.setState((function(e){return Object(y.a)({},e,{dialogProps:Object(y.a)({},e.dialogProps,{openDialog:!1,rating:0,ratingMessage:""})})}))},a.handleEntered=function(){var e=Object(b.a)(v.a.mark((function e(t){var r,n,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="Movies"===a.state.searchDefinition.searchTypeValue?C.movie:C.tv,!a.state.dialogProps.dialogItem){e.next=11;break}return e.next=4,a.dataService.getKeywords(a.state.dialogProps.dialogItem.id.toString(),r);case 4:if(n=e.sent,s=void 0,"Movies"!==a.state.searchDefinition.searchTypeValue){e.next=10;break}return e.next=9,a.dataService.getRatedMovie(a.state.dialogProps.dialogItem.id.toString());case 9:s=e.sent;case 10:a.setState((function(e){return Object(y.a)({},e,{dialogProps:Object(y.a)({},e.dialogProps,{loading:!1,keywords:n,rating:s&&s.ratedValue?s.ratedValue:0})})}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleRating=function(){var e=Object(b.a)(v.a.mark((function e(t,r){var n,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.state.dialogProps.dialogItem||!r){e.next=8;break}return e.next=3,a.dataService.rateMovie(a.state.dialogProps.dialogItem.id.toString(),r);case 3:n=e.sent,s="",1===n.status_code&&(s="Rating done successfully!!"),12===n.status_code&&(s="Rating updated successfully!!"),s&&a.setState((function(e){return Object(y.a)({},e,{dialogProps:Object(y.a)({},e.dialogProps,{rating:r,ratingMessage:s})})}));case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.dataService=new I,a.state={configuration:a.emptyConfiguration,moviesGenres:[],tvShowGenres:[],searchResults:a.emptySearchResults,searchDefinition:{searchTerm:"",searchTypeValue:"Movies",placeholderText:"Search Movies"},searchSortValue:"Title",dialogProps:{loading:!1,openDialog:!1,dialogItem:void 0,genres:[],keywords:[],rating:0,ratingMessage:""}},a}return Object(x.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=Object(b.a)(v.a.mark((function e(){var t,a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.dataService.getConfiguration();case 2:return t=e.sent,e.next=5,this.dataService.getGenres(C.movie);case 5:return a=e.sent,e.next=8,this.dataService.getGenres(C.tv);case 8:r=e.sent,this.setState({configuration:t,moviesGenres:a,tvShowGenres:r});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=""!==this.state.configuration.images.secureBaseUrl?this.state.configuration.images.secureBaseUrl:"",t=""!==e?"".concat(e,"/").concat(this.state.configuration.images.posterSizes.w92,"/"):"",a=""!==e?"".concat(e,"/").concat(this.state.configuration.images.posterSizes.w185,"/"):"";return n.a.createElement(L,null,n.a.createElement(ke,{searchTerm:this.state.searchDefinition.searchTerm,searchTypeValue:this.state.searchDefinition.searchTypeValue,placeHolderText:this.state.searchDefinition.placeholderText,onChangeSearchInput:this.handleOnChangeSearchInput,onChangeSearchType:this.handleChangeSearchType,onClickSearch:this.handleOnClickSearch,onChangeSort:this.handleChangeSort,searchSortValue:this.state.searchSortValue}),0===this.state.searchResults.totalResults&&n.a.createElement(ne,null,"No results"),this.state.searchResults.totalResults>0&&n.a.createElement(he,{imageBaseUrl:t,hasMoreItems:this.state.searchResults.page<this.state.searchResults.totalPages,results:(this.state.searchDefinition.searchTypeValue,this.state.searchResults.results),loadResults:this.handleLoadMoreResults,onClickCard:this.handleClickCard}),n.a.createElement(Ae,{baseImageUrl:a,openDialog:this.state.dialogProps.openDialog,showBackdrop:this.state.dialogProps.loading,dialogItem:this.state.dialogProps.dialogItem&&this.state.dialogProps.dialogItem,genres:this.state.dialogProps.genres,keywords:this.state.dialogProps.keywords,onEntered:this.handleEntered,onClickDialogOk:this.handleDialogOk,onChangeRating:this.handleRating,ratingValue:this.state.dialogProps.rating,ratingMessage:this.state.dialogProps.ratingMessage,type:this.state.searchDefinition.searchTypeValue}))}}]),t}(n.a.Component),Be=function(){return n.a.createElement("div",null,n.a.createElement("p",null,"About page"))},Ne=function(){return n.a.createElement("main",null,n.a.createElement(m.c,null,n.a.createElement(m.a,{exact:!0,path:"/",component:ze}),n.a.createElement(m.a,{path:"/about",component:Be})))},Ke=a(556),Ue=a(269),We=a(549),Ge=Object(Ue.a)({palette:{background:{default:"white"}}}),He=Object(R.a)(K.a)({textAlign:"center",maxWidth:"100%",fontSize:"3rem",color:"steelblue"}),Je=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(We.a,{theme:Ge},n.a.createElement(Ke.a,null)),n.a.createElement(J,{maxWidth:"lg"},n.a.createElement(He,{variant:"h2",gutterBottom:!0},"Movie Database Search"),n.a.createElement(g,null),n.a.createElement(Ne,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(292),a(301);i.a.render(n.a.createElement(o.a,null,n.a.createElement(Je,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[281,1,2]]]);
//# sourceMappingURL=main.9a7338cb.chunk.js.map